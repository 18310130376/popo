/*
 * PoPo 1.0.0, a JS UI library for large screen.
 * https://github.com/shunok/PoPo (c) 2017-2018 DaShun
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.PoPo=e()}(this,function(){"use strict";function t(t){return t._popo_id=t._popo_id||++Ke,t._popo_id}function e(t,e){if(!e)return t;var n=Array.prototype.slice,i=n.call(arguments,2);return t.bind?t.bind.apply(t,n.call(arguments,1)):function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}function n(t){for(var e=1,n=arguments.length;e<n;e++){var i=arguments[e];for(var o in i)t[o]=i[o]}return t}function i(t,e,n){return h(t)?h(e)&&t<e?e:h(n)&&t>n?n:t:t}function o(t){return s(t)?t.trim?t.trim():t.replace(/^\s+|\s+$/g,""):t}function r(t){return o(t).split(/\s+/)}function l(t,e){return Object.prototype.toString.call(t)==="[object "+e+"]"}function a(t){return l(t,"Array")}function s(t){return l(t,"String")}function h(t){return l(t,"Number")}function u(t){return l(t,"Function")}function f(t){return l(t,"Object")}function d(t){if(!f(t))return!1;for(var e in t)return!1;return!0}function c(t){return!isNaN(Number(t))}function p(t,e){if(f(e))for(var n in e)f(e[n])?(f(t[n])||(t[n]={}),p(t[n],e[n])):t[n]=e[n];return t}function v(t,e){return a(e)&&e.forEach(function(e){p(t,e)}),t}function g(t,e,n){return t.filter(function(t){return t[e]===n})[0]}function m(t,e,n){for(var i=0,o=t.length;i<o;i++)if(t[i][e]===n)return t.splice(i,1);return[]}function _(t){return t&&"string"==typeof t?document.getElementById(t):t}function y(t){return t instanceof HTMLElement}function E(t){return!!t&&"object"===(void 0===t?"undefined":Xe(t))&&1===t.nodeType&&"string"==typeof t.nodeName}function N(t){return f(t)?JSON.parse(JSON.stringify(t)):t}function w(t,e){var n={},i={};for(var o in t)u(t[o])?i[o]=t[o]:n[o]=t[o];var r=p(JSON.parse(JSON.stringify(n)),e);for(var l in i)r[l]=i[l];return r}function I(t,e){return 100*i(t||e||0,0,1)}function b(t){return s(t)?t.charAt(0).toUpperCase()+t.slice(1):t}function O(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})}function T(t){return!t||t.indexOf("-")<0&&t.indexOf("_")<0?t:t.replace(/[-_][^-_]/g,function(t){return t.charAt(1).toUpperCase()})}function D(t){for(var e=[],n=0,i=t.length;n<i;n++){for(var o=n+1;o<i;o++)t[n]===t[o]&&(o=++n);e.push(t[n])}return e}function x(t){return t.toLowerCase().replace(/( |^)[a-z]/g,function(t){return t.toUpperCase()})}function S(t){return s(t)&&t.indexOf("%")>0||t>=-1&&t<=1}function R(t){if(s(t)){var e=t.indexOf("%");if(e>0)return Number(t.substring(0,e))/100;if(c(t))return Number(t)}return t}function z(t){return 100*t+"%"}function C(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function L(t,e,n){function i(){r=!1,l&&(o.apply(n,l),l=!1)}function o(){r?l=arguments:(t.apply(n,arguments),setTimeout(i,e),r=!0)}var r=null,l=null;return o}function k(t,e){var n=Math.pow(10,e||5);return Math.round(t*n)/n}function P(t){return h(t)&&!isNaN(t)?t:s(t)?c(t)?Number(t):R(t):0}function A(t,e){if(e=e||1,s(t)){if(t.indexOf("%")>0)return t;if(t.indexOf("px")>0)return H(t)*e+"px";if(c(t))return Number(t)*e+"px"}return c(t)?t*e+"px":"0px"}function M(t,e){return t=P(t),e=e||1,0===t?t:t<=1?e*t:t}function H(t){return s(t)&&t.indexOf("px")>0?(t=o(t),Number(t.substring(0,t.indexOf("px")))):t}function W(t,e){if(e=e||1,t||(t="0 0"),s(t)){var n=r(t).map(function(t){return H(t)});if(a(n)){if(4===n.length)return{top:Number(n[0])*e,right:Number(n[1])*e,bottom:Number(n[2])*e,left:Number(n[3])*e};if(2===n.length)return{top:Number(n[0])*e,right:Number(n[1])*e,bottom:Number(n[0])*e,left:Number(n[1])*e};1===n.length&&(t=Number(t))}}return h(t)&&t>=0?{top:t*e,right:t*e,bottom:t*e,left:t*e}:null}function G(t,e){if(e=e||1,t&&s(t)){if(t.indexOf("%")>0)return 100*R(t)+"%";if(t.indexOf("px")>0)return Number(H(t))*e+"px"}return c(t)?Number(t)*e+"px":"0px"}function Z(t,e){t||(t="0 0"),e=e||1,c(t)&&(t=String(t));var n=[];return s(t)&&(n=r(t),2===n.length&&(n=n.concat([n[0],n[1]])),3===n.length&&n.push(n[2]),1===n.length&&(n=n.concat([n[0],n[0],n[0]]))),4===n.length?{top:G(n[0],e),right:G(n[1],e),bottom:G(n[2],e),left:G(n[3],e)}:null}function F(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function X(t){return Ve(t)?void 0===t.className.baseVal?t.className:t.className.baseVal:null}function Y(t,e){if(!Ve(t)&&!e)return!1;if(void 0!==t.classList)return t.classList.contains(e);var n=X(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function j(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function B(t,e){if(Ve(t)&&e)if(void 0!==t.classList)for(var n=r(e),i=0,o=n.length;i<o;i++)t.classList.add(n[i]);else if(!Y(t,e)){var l=X(t);j(t,(l?l+" ":"")+e)}}function U(t,e){Ve(t)&&e&&(e=r(e),e.forEach(function(e){if(void 0!==t.classList)t.classList.remove(e);else{var n=X(t);j(t,o((" "+n+" ").replace(" "+e+" "," ")))}}))}function K(t,e,n){if(Ve(t)&&!d(e))for(var i in e){var o=i;n&&o&&(o=T(o),o=F([o,"webkit"+o,"moz"+o,"ms"+o,"o"+o])),o&&null!==e[o]&&void 0!==e[o]&&(t.style[o]=e[o])}}function V(t,e){if(Ve(t)&&e){if(s(e))return rt(t,O(e));if(!d(e))return void K(t,e,!0)}}function q(t,e,n,i){var o=document.createElement(t||"div");return e&&B(o,e),f(n)&&V(o,n),Ve(i)&&i.appendChild(o),o}function $(t,e){if(Ve(t)&&(s(e)&&(t.innerHTML=e),e&&Ve(e)&&t.appendChild(e),void 0===e))return t.innerHTML}function J(t){return Ve(t)&&"none"===rt(t,"display")}function Q(t){if(s(t)){var e=document.querySelector("head");if(e){var n=e.querySelector("style");if(n)n.innerHTML+=t;else{var i=document.createElement("style"),o=document.querySelector("link");i.type="text/css",i.innerHTML=t,o?e.insertBefore(i,o):e.appendChild(i)}}}}function tt(t,e){Array.prototype.forEach.call((e||document).querySelectorAll("."+t),function(t){Ve(t)&&t.parentNode.removeChild(t)})}function et(t,e){Array.prototype.forEach.call((e||document).querySelectorAll("["+Je.ROLE+'="'+t+'"]'),function(t){Ve(t)&&t.parentNode.removeChild(t)})}function nt(t,e){return Ve(t)&&e&&t.querySelector(e)}function it(t,n,i){Ve(t)&&(n=e(n,i),Array.prototype.forEach.call(t.childNodes,function(t){u(n)&&n(t)}))}function ot(t,e,n){if(Ve(t)&&void 0!==e){if(void 0===n)return t.getAttribute(e);t.setAttribute(e,n)}}function rt(t,e){if(t&&Ve(t)){if(t.currentStyle)return t.currentStyle[e];if(window.getComputedStyle)return window.getComputedStyle(t,null)[e]}return null}function lt(t,e){if(t){var n=rt(t,e);if(s(n)){if(n.indexOf("px")>0)return Number(n.substring(0,n.length-2));if(c(n))return Number(n)}}return 0}function at(t){return Ve(t)?t.getBoundingClientRect():null}function st(t){if(Ve(t)){var e=t.getAttribute(Je.COMPONENT_ID_KEY);if(Number(e)>0)return e}if(f(t)){if(t.getId)return t.getId();if(t.id)return t.id}return t}function ht(){Q("/* PoPo Public Style */\n    div["+Je.POPO+"] {display:none}\n    div["+Je.ROLE+"], div["+Je.ROLE+"]:after,div["+Je.ROLE+"]:before{box-sizing: border-box;}\n    div[data-popo-role="+Je.PANE+"]{transform-origin: 0 0;-ms-transform-origin: 0 0;-webkit-transform-origin: 0 0;}\n    div[data-popo-role="+Je.GRID_L_C_R+"]{zoom:1;position:relative;}\n    div[data-popo-role="+Je.GRID_L_C_R+"]:after{content:'';display:block;clear:both;height:0;}\n    div[data-popo-role="+Je.GRID_LEFT+"],div[data-popo-role="+Je.GRID_CENTER+"],div[data-popo-role="+Je.GRID_RIGHT+"]{float:left;position:relative;}\n    div[data-popo-role="+Je.GRID_FOOT+"],div[data-popo-role="+Je.GRID_HEAD+"] {position:relative;}\n    ."+Je.INFO+", ."+Je.EXT_PANE+"{position:absolute;z-index:100;box-sizing:border-box;}\n    ."+Je.EXT_PANE+" *{box-sizing:border-box;}\n    ."+Je.EXT_PANE+"{border:2px solid rgba(0,0,0,0.2);border-radius: 2px;overflow:hidden;}\n    ."+Je.EXT_PANE+" a, ."+Je.EXT_PANE+" span{font: bold 18px 'Lucida Console', Monaco, monospace;width:30px;height:30px;text-align:center;display:block;border-bottom:1px solid #bbb;line-height:30px;color:#333;background-color:#ffffff;text-decoration:none;outline:none;}\n    ."+Je.EXT_PANE+" a:hover{background-color:#f2f2f2;}\n    ."+Je.EXT_PANE+" span{font-size:11px;}\n    ")}function ut(e,n,i,o){function r(t){return i.call(o||e,t||window.event)}if(!e)return null;var l=n+t(i)+(o?"{_"+t(o)+"}":"");return e[dn]&&e[dn][l]?this:("addEventListener"in e?e.addEventListener(n,r,!1):"attachEvent"in e&&e.attachEvent("on{$type}",r),e[dn]=e[dn]||{},e[dn][l]=r,null)}function ft(e,n,i,o){if(!e)return null;var r=n+t(i)+(o?"{_"+t(o)+"}":""),l=e[dn]&&e[dn][r];return l?("removeEventListener"in e?e.removeEventListener(n,l,!1):"detachEvent"in e&&e.detachEvent("on"+n,l),e[dn][r]=null,null):this}function dt(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function ct(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function pt(t){return ct(t),dt(t),this}function vt(t,e,n,i){if(t&&e){e=r(e);for(var o=0,l=e.length;o<l;o++)ut(t,e[o],n,i)}return this}function gt(t,e,n,i){if(t)if(e){e=r(e);for(var o=0,l=e.length;o<l;o++)ft(t,e[o],n,i)}else{for(var a in t[dn])ft(t,a,t[dn][a]);delete t[dn]}}function mt(t){return fn.edge?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/cn:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function _t(t){var e=0;return a(t)&&t.forEach(function(t){h(t)&&(e+=t),a(t)&&h(t[0])&&(e+=t[0])}),e}function yt(t){var e=Et(t);return e<=0?_t(t):e}function Et(t){var e=0;if(a(t))for(var n=0,i=t.length;n<i;n++){if(!h(t[n]))return-1;e+=t[n]}return e}function Nt(t,e,n,i){function o(t,i){var l="row"===i?n:e;(a(t)||a(t[1]))&&(yt(t[1])>l&&(r=!1),a(t[1])&&t[1].forEach(function(t){a(t)&&o(t,"row"===i?"col":"row")}))}var r=!0,l="row"===i?e:n;if(_t(t)>l)r=!1;else for(var s=0,h=t.length;s<h;s++)o(t[s],i);return r}function wt(t,e){if(!t||!e)return null;for(var n=100/t,i=100/e,o={},r=1;r<=t;r++)o[Je.SINGLE_ROW+"-"+r]=(n*r).toFixed(5);for(var l=1;l<=e;l++)o[Je.COL+"-"+l]=(i*l).toFixed(5);return o}function It(t,e,n,i){return h(t)&&t>=1&&t<=(e||Math.max(n,i))}function bt(t,e,n){for(var i=0,o=0,r=t.length;o<r;o++){var l=t[o][0];if(!It(l,null,e,n))return 0;i+=l}return i}function Ot(t,e,n){if(!t||!t.length)return!1;if(!bt(t,e,n))throw new Error(vn.LY_INVALID);return!0}function Tt(t,e){return t<0?Je.SINGLE_ROW+"-"+e:Je.SINGLE_ROW+"-"+t}function Dt(t,e){return t<0?e?" "+Je.ROW:"":Je.COL+"-"+t+(e?" "+Je.ROW:"")}function xt(t,e,n,o){n=Math.floor(t/i(n,1,t))||1,o=Math.floor(e/i(o,1,e))||1;for(var r=new Array(Math.floor(t/n)),l=Math.floor(e/o),a=0;a<r.length;a++){r[a]=[n,[]];for(var s=0;s<l;s++)r[a][1].push(o)}return r}function St(t,e,n,i){var o=(new gn).addClassName(e).insertTo(t);return o.type=i,n&&o.setRole(Je.PANEL),o}function Rt(t,e){function n(t){t.children.forEach(function(t){t.role===Je.PANEL&&(e.push(t),t.setId(e.length)),t.children.length>0&&n(t)})}n(t)}function zt(t,e,n,i,o){e=e||"row";var r=t[0],l=t[1],s=null,h="";It(r,null,o,i)&&(h="col"===e?Dt(r,!0):Tt(r,i),s=St(n,h,!1,"col"===e?"col":"row",r)),s&&(It(l,null,o,i)?St(s,h,!0,e):a(l)?l.forEach(function(t){It(t,null,o,i)?(h="col"===e?Tt(t,i):Dt(t,!0),St(s,h,!0,"col"===e?"row":"col",t)):a(t)&&zt(t,"col"===e?"row":"col",s,i,o)}):l||(h="col"===e?Dt(-1,!0):Tt(-1,i),St(s,h,!0,"col"===e?"row":"col",-1)))}function Ct(t,e,n,r){function l(t){t.children.forEach(function(t){t.classNames.split(" ").forEach(function(n){if(n=o(n),h.indexOf(n)>=0){if(n.indexOf("-col-")>=0)return void t.setWidth(e[n]);if(n.indexOf("-row-")>=0)return void t.setHeight(e[n])}}),t.children.length>0&&l(t)})}function a(t){d>0&&!c&&(t.height=d>1?d:t.width*d+u*(1-d)),c>0&&!d&&(t.width=c>1?c:t.height*c+u*(1-c)),d>1&&c>1&&(t.height=d,t.width=c)}function s(t){t.children.forEach(function(e){0!==e.width&&(e.width=Number(t.width*e.width/100)),0!==e.height&&(e.height=f&&1===f.col?t.height:Number(t.height*e.height/100)),0===e.width&&0!==t.width&&(e.width=Number(t.width)),0===e.height&&0!==t.height&&(e.height=Number(t.height)),a(e),e.children.length>0&&s(e)})}if(t&&e&&n){var h=Object.keys(e).join(","),u=n.gutter,f=n.freeLy,d=n.fixedHeight||0,c=n.fixedWidth||0;d>0&&(d=i(d,.01)),c>0&&(c=i(c,.01)),l(t);var p=n.padding,v=p.left+p.right,g=p.top+p.bottom,m=n.width,_=n.height;if((!m||!_)&&r){var y=r.parentNode||r,E=at(y);0===m&&(r._origionWidth=m=E.width),0===_&&(r._origionHeight=_=E.height)}if(m-=v,_-=g,t.children.forEach(function(t){0!==t.width&&(t.width=m*Number(t.width)/100),0!==t.height&&(t.height=_*Number(t.height)/100),0===t.width&&(t.width=m),0===t.height&&(t.height=_),s(t);var e=t.children[0];e&&(d>0&&(t.height=e.height),c>0&&(t.width=e.width))}),t.setWidth(m).setHeight(_),d>0){d<=1&&(d=t.children[0].height);var N=d*n.layout.length;t.setHeight(N),r._origionHeight=N}if(c>0){c<=1&&(c=t.children[0].width);var w=0;w="row"===n.layoutStartType?n.layout[0][1].length:n.layout.length;var I=c*w;t.setWidth(I),r._origionWidth=I}}}function Lt(t,e,n){function i(t){var e=t.children,n="row"===t.type?t.left:t.top;e.forEach(function(e){"row"===e.type&&"col"===t.type&&(e.left=t.left,e.top=n,n+=e.height),"col"===e.type&&"row"===t.type&&(e.top=t.top,e.left=n,n+=e.width),e.children.length>0&&i(e)})}if(t&&e&&n){var o=0;t.children.forEach(function(t){"row"===t.type&&(t.left=0,t.top=o,o+=t.height),"col"===t.type&&(t.top=0,t.left=o,o+=t.width)}),o=0,n.forEach(function(t){"row"===t.type&&(t.left=0,t.top=o,o+=t.height),"col"===t.type&&(t.top=0,t.left=o,o+=t.width)}),t.children.forEach(function(t){i(t)});var r=e.gutter;n.forEach(function(t){t.setWidth(t.width-r).setHeight(t.height-r).setTop(k(t.top+.5*r,5)).setLeft(k(t.left+.5*r,5)).clearClassName().setRole(Je.PANEL).setStyle({position:"absolute",zIndex:Je.PANEL_DEFAULT_ZINDEX}),t.parentNode=null}),t.children=n,t.children.forEach(function(e){e.parentNode=t}),n=null}}function kt(t){var e=t.layout,n=t.gutter,o=i(t.rows,Je.MIN_LY_COUNT),r=i(t.cols,Je.MIN_LY_COUNT),l=t.layoutStartType,u=e;if(s(e)&&"whole"===e.toLocaleLowerCase()&&(u=[[o]]),a(e)&&(0===e.length&&(u=[[o]]),u=e.map(function(t){return h(t)&&(t=[t]),t})),f(e)){var d=i(e.height,0),c=i(e.width,0);if(u=xt(o,r,e.rows,e.cols),(d||c)&&(d>1&&c>0&&c<=1&&(c*=d),d>0&&d<=1&&c>1&&(d*=c),c>1&&(c+=n),d>1&&(d+=n),d>0&&d<=1&&c>0&&c<=1))throw new Error(vn.LY_FIXED_LESS);t.fixedHeight=d,t.fixedWidth=c,t.freeLy={col:e.cols||t.cols,row:e.rows||t.rows,fh:d,fw:c},t.layoutStartType=l="row"}if(u&&!Nt(u,o,r,l))throw new Error(vn.LY_INVALID);return t.layout=u,!0}function Pt(t,e){if(!t||!e||!t.layout)return!1;var n=t.layout,i=t.cols,o=t.rows,r=t.layoutStartType;return!!Ot(n,i,o)&&(n.forEach(function(t){zt(t,r,e,o,i)}),!0)}function At(t,e,n,i,o){Ct(t,n,i,e),Rt(t,o),Lt(t,i,o)}function Mt(t){var e=t.gutter,n=void 0===e?0:e,i=t.headHeight,o=void 0===i?0:i,r=t.footHeight,l=void 0===r?0:r,a=t.rightWidth,s=void 0===a?0:a,h=t.leftWidth,u=void 0===h?0:h,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n=Z(n,f),o=A(o,f),l=A(l,f),s=A(s,f),u=A(u,f),{headHeight:o,footHeight:l,rightWidth:s,leftWidth:u,containerHeight:"calc(100% - "+o+" - "+l+" - "+n.top+" - "+n.bottom+")",centerWidth:"calc(100% - "+s+" - "+u+" - "+n.left+" - "+n.right+")",gutter:n}}function Ht(t,e,n){var i=Mt(e,n),o=i.headHeight,r=i.footHeight,l=i.rightWidth,a=i.leftWidth,s=i.containerHeight,h=i.centerWidth,u=i.gutter,f=null;if("0px"!==o&&"0%"!==o&&(new gn).setRole(Je.GRID_HEAD).setHeight(o).insertTo(t),"100%"!==o&&"100%"!==r&&(f=(new gn).setRole(Je.GRID_L_C_R).setHeight(s).setStyle({marginBottom:u.bottom,marginTop:u.top}).insertTo(t)),"0px"!==r&&"0%"!==r&&(new gn).setRole(Je.GRID_FOOT).setHeight(r).insertTo(t),"0px"!==a&&"0%"!==a){var d=(new gn).setRole(Je.GRID_LEFT).setWidth(a);f&&d.insertTo(f)}if(f&&(new gn).setRole(Je.GRID_CENTER).setWidth(h).setStyle({marginLeft:u.left,marginRight:u.right}).insertTo(f),"0px"!==l&&"0%"!==l){var c=(new gn).setRole(Je.GRID_RIGHT).setWidth(l);f&&c.insertTo(f)}return t}function Wt(t,e,n){if(t&&e&&!t.queryByRole(Je.PANEL_CONTAINER)){Ht((new gn).setStyle({position:"relative"}).setRole(Je.PANEL_CONTAINER),e,n||1).insertTo(t)}}function Gt(t,e){if(t&&e.panel&&e.panel.enable){var n=e.panel.default,i=e.panel.custom,o=[],r=e.fullId,l=e.fullZIndex;i&&a(i)&&i.forEach(function(n){var i=n.panels;if(h(i)&&(i=[i]),a(i)){var s=[];n.panels=i=D(i),i.forEach(function(e){o.push(e);var n=t.getChild(e);n&&s.push(n)}),s.forEach(function(t){var i=n.zIndex;t.getId()===r&&(i=l),Wt(t,n,e.fontScale),t.setStyle({zIndex:i}).update()})}}),t.children.forEach(function(t){if(C(o,t[Je.COMPONENT_ID_KEY])<0){var i=n.zIndex;t.getId()===r&&(i=l),Wt(t,n,e.fontScale),t.setStyle({zIndex:i}).update()}})}}function Zt(t){if(h(t))return t+"px";if(s(t)){if(t.indexOf("px")<0||t.indexOf("em")>0)return t;if(!isNaN(Number(t)))return t+"px"}return t}function Ft(t){if(s(t)){var e=t.indexOf("px");if(e>=0)return Number(t.substring(0,e))}return h(t)?t:0}function Xt(t,e){if(t&&Ve(t.realDom)&&e&&e.show){tt(Je.PANEL_GUIDELINES,t.realDom);var n=nt(t.realDom,"."+Je.GUIDELINES),i=t.width,o=t.height,r=e.zIndex,l=e.size||15,a=e.color,s=e.lineSize,h=new wn,u=q("div",Je.PANEL_GUIDELINES,{zIndex:r,height:o+"px",width:i+"px",position:"absolute",left:0,top:0,overflow:"hidden",userSelect:"none"},t.realDom);Ve(n)&&t.realDom.removeChild(n);for(var f=Math.ceil(o/l),d=Math.ceil(i/l),c="",p="",v=1;v<=f;v++){var g=l*v;c+="M0 "+g+" L"+i+" "+g+" "}for(var m=1;m<=d;m++){var _=l*m;c+="M"+_+" 0 L"+_+" "+o+" "}f=Math.ceil(o/l/4),d=Math.ceil(i/l/4);for(var y=1;y<=f;y++){var E=l*y*4;p+="M0 "+E+" L"+i+" "+E+" "}for(var N=1;N<=d;N++){var w=l*N*4;p+="M"+w+" 0 L"+w+" "+o+" "}h.create("path",{d:c,stroke:a,strokeWidth:s}),h.create("path",{d:p,stroke:a,strokeWidth:1.5*s}),u.appendChild(h.createElement())}}function Yt(t,e){if(t&&e&&e.dev&&e.dev.enable&&e.dev.panelGuideline.show){var n=e.dev.panelGuideline,i=w({color:"rgba(0,0,0,.25)",width:1,size:10,zIndex:0},n||{}),o=n.ids;"all"===o&&(o=te(t)),h(o)&&(o=[o]),a(o)&&o.forEach(function(n){if((n=se(t,n,e.alias))>0){var o=t.getChild(n);o&&o.realDom&&Xt(o,i)}})}}function jt(t,e,n,i,o,r){if(r=Zt(r),t&&t.realDom){var l=Math.round(t.width),a=Math.round(t.height),s=Math.round(t.left),h=Math.round(t.top);if(e||n||i){var u="";return n&&(u+=t[Je.COMPONENT_ID_KEY]),e&&(u+=(n?" - ":"")+" W"+l+" H"+a),i&&(u+=(n||e?" - ":"")+" L"+s+" T"+h),new gn("span").addClassName(Je.INFO).setTop(t.top+5).setLeft(t.left+5).setWidth("auto").setHeight("auto").setStyle({color:o,fontSize:r}).setHtml(u)}}return null}function Bt(t,e){if(t&&e&&e.enable&&e.panel.show){var n=e.panel,i=n.id,o=n.size,r=n.position,l=n.background,a=Zt(n.fontSize),h=n.fontColor;if(t.realDom&&(i||o||r||l))for(var u=0,f=t.children.length;u<f;u++){t.children[u].realDom&&l&&s(l)&&V(t.children[u].realDom,{background:l});var d=jt(t.children[u],o,i,r,h,a);d&&t.realDom.appendChild(d.createElement())}}}function Ut(t,e,n,i,o,r){t&&t.create("text",{x:n,y:i,fontSize:o,fill:r}).setHtml(e)}function Kt(t,e,n){if(t&&e&&n&&n.dev.guideline.show){tt(Je.GUIDELINES,t);var i=n.dev.guideline,o=n.padding,r=e.width+o.left+o.right,l=e.height+o.top+o.bottom,a=i.identifier,s=i.fontSize,h=i.fontColor,u=i.zIndex,f=n.rows,d=n.cols,c=(100/f).toFixed(5)*l/100,p=(100/d).toFixed(5)*r/100,v=new wn,g=q("div",Je.GUIDELINES,{zIndex:u,height:l+"px",width:r+"px",position:"absolute",left:0,top:0,overflow:"hidden",userSelect:"none"},t),m=t.style.position;""!==m&&"static"!==m||V(t,{position:"relative"});for(var _="",y=0;y<=f;y++){var E=c*y;_+="M0 "+E+" L"+r+" "+E+" ",a&&Ut(v,y,5,E-c+Ft(s)+5,s,h)}for(var N=0;N<=d;N++){var w=p*N;_+="M"+w+" 0 L"+w+" "+l+" ",a&&1!==N&&Ut(v,N,w-p+5,Ft(s)+5,s,h)}v.create("path",{d:_,stroke:i.color,strokeWidth:i.lineSize}),g.appendChild(v.createElement())}}function Vt(t,e,n){if(t&&e&&n&&n.dev.splitline.show){tt(Je.SPLITLINES,t);var i=n.dev.splitline,o=Zt(i.fontSize),r=i.fontColor,l=n.padding,a=i.identifier,s=e.width+l.left+l.right,h=e.height+l.top+l.bottom,u=i.height,f=i.width,d=i.zIndex,c=Math.ceil(h/u),p=Math.ceil(s/f),v=q("div",Je.SPLITLINES,{zIndex:d,height:h+"px",width:s+"px",position:"absolute",left:0,top:0,overflow:"hidden",userSelect:"none"},t),g=new wn,m=t.style.position,_=[],y=[];""!==m&&"static"!==m||V(t,{position:"relative"});for(var E="",N=0;N<=c;N++){var w=u*N;E+="M0 "+w+" L"+s+" "+w+" ",_.push(w)}for(var I=0;I<=p;I++){var b=f*I;E+="M"+b+" 0 L"+b+" "+h+" ",y.push(b)}a&&y.forEach(function(t){_.forEach(function(e){Ut(g,t+", "+e,t+10,e+10+Ft(o),o,r)})}),g.create("path",{d:E,stroke:i.color,strokeWidth:i.lineSize}),v.appendChild(g.createElement())}}function qt(t,e,n){return!!(e&&t&&n&&n.dev&&n.dev.enable)&&(tt(Je.INFO,t),Bt(e,n.dev),Kt(t,e,n),Vt(t,e,n),Yt(e,n),!0)}function $t(t){var e=t.padding,n=e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px";return(new gn).setRole(Je.PANE).setHeight("auto").setStyle({padding:n,fontSize:t.fontScale+"em"}).createElement()}function Jt(){return(new gn).setRole(Je.CONTAINER).setStyle({position:"relative"})}function Qt(t){return t&&t.createElement()}function te(t){return t?t.children.map(function(t){return t.getId()}):[]}function ee(t){Ve(t)&&[Je.ZOOMPANE,Je.ZOOMCONTAINER].forEach(function(e){if(ot(t,Je.ROLE)===e)return void(t._popo_inner=!0)})}function ne(t,e,n,i,o){if(!t||!e||!n)return null;var r=e.left,l=e.top,a=e.right,s=e.bottom,h=t.width+r+a,u=t.height+l+s;if(f(n)){var d=w(In,n),c=d.position,p=d.size,v=d.id,g=d.zIndex,m=d.layout,_=d.style,y=(new gn).setRole(Je.PANEL).setHeight(M(p.height||0,u)).setWidth(M(p.width||0,h)).setTop(M(c.top||0,u)).setLeft(M(c.left||0,h)).setStyle({position:"absolute",zIndex:g});if(v&&(y.id=v),y[Je.COMPONENT_ID_KEY]=t.getNewId(),y.isExtend=!0,y.extendInfo={position:{left:y.left/(c.responsive?h:1),top:y.top/(c.responsive?u:1)},size:{width:y.width/(p.responsive?h:1),height:y.height/(p.responsive?u:1)},zIndex:g},m&&f(m)&&o&&Wt(y,m,i),_){var E=w(yn.default,_);be(y,E.panel,!1,!0);for(var N in _){var I=y.queryByRole(N);I&&E[N]&&be(I,E[N],!1,!0)}}return t.addNode(y),y}return null}function ie(t,e,n){if(t&&e&&e.extends){var i=e.extends;i&&f(i)&&(i=[i]),i&&a(i)&&i.forEach(function(i){ne(t,e.padding,i,e.fontScale,n)})}}function oe(t,e){if(t&&e){var n=t.children.filter(function(t){return!0===t.isExtend}),i=e.padding,o=i.left,r=i.top,l=i.right,a=i.bottom,s=t.width+o+l,h=t.height+r+a;n.forEach(function(t){if(f(t.extendInfo)){var e=t.extendInfo,n=e.size,i=e.position,o=M(n.width||0,s),r=M(n.height||0,h);t.setHeight(void 0!==t._oldHeight?t.height:r).setWidth(void 0!==t._oldWidth?t.width:o).setTop(M(void 0!==t._oldTop?t.top:i.top||0,h)).setLeft(M(void 0!==t._oldLeft?t.left:i.left||0,s)).update()}})}}function re(t,e){if(a(t)&&e){var n=t.slice(0),i=n.filter(function(t){return t&&t.name===e});if(1===i.length)return i[0].id||-1;if(i.length>1)return i.map(function(t){return t.id||-1})[0]}return-1}function le(t,e){if(a(t)&&e){var n=a(t)&&e&&t.slice(0).filter(function(t){return t&&t.id===e})[0];if(f(n))return n.name}return null}function ae(t,e){return isNaN(Number(t))?e&&s(t)?re(e,t):-1:Number(t)}function se(t,e,n){if(!t||null===e||void 0===e)return-1;t.children.length;return"all"===e?te(t):a(e)?e.map(function(t){return t=ae(t,n),t<0?-1:t}):(e=ae(e,n),e<0?-1:e)}function he(t,e){return t?(e=e||Je.GRID_CENTER,C([Je.PANEL,Je.GRID_HEAD,Je.GRID_CENTER,Je.GRID_LEFT,Je.GRID_RIGHT,Je.GRID_L_C_R,Je.PANEL_CONTAINER,Je.GRID_FOOT],e)<0?null:e===Je.PANEL?t:t.queryByRole(e)):null}function ue(t){return t?{panel:t,head:he(t,Je.GRID_HEAD),left:he(t,Je.GRID_LEFT),right:he(t,Je.GRID_RIGHT),center:he(t,Je.GRID_CENTER),panelContainer:he(t,Je.PANEL_CONTAINER),lcr:he(t,Je.GRID_L_C_R),foot:he(t,Je.GRID_FOOT)}:null}function fe(t,e,n){if(t){var i=ue(t);if(f(i)){var o=i.head,r=i.foot,l=i.left,a=i.right,s=i.center,h=i.lcr,u=i.panelContainer;return{panel:t.realDom,panelContainer:u&&u.realDom,lcr:h&&h.realDom,head:o&&o.realDom,foot:r&&r.realDom,left:l&&l.realDom,center:s&&s.realDom,right:a&&a.realDom,id:e||t.getId(),isExtend:t.isExtend,alias:le(n.alias,e),size:{width:k(t.width,5),height:k(t.height,5)},position:{top:k(t.top,5),left:k(t.left,5),zIndex:t.styles.zIndex}}}}return null}function de(t,e,n){var i=ae(e,n.alias);return fe(t.getChild(i),i,n)}function ce(t,e,n){if(!t||!e||e<=0)return null;var i=t.getChild(e);return i?he(i,n||Je.GRID_CENTER):null}function pe(t,e,n,i){if(t&&e){var o=i?n.hideType:n.hideType||"panel";h(t)&&(t=[t]),a(t)&&t.forEach(function(t){var i=ce(e,se(e,t,n.alias),o);i&&(i.realDom?V(i.realDom,{display:"none"}):i.setStyle({display:"none"}))})}}function ve(t,e){if(!t||!e||Y(t,Je.ZOOMCONTAINER))return null;var n=e.zoom,i=(new gn).setRole(Je.ZOOMCONTAINER),o=(new gn).setRole(Je.ZOOMPANE).addNode(i).createElement();if(t.appendChild(o),n.enable&&n.control){var r=(new gn).addClassName(Je.EXT_PANE).setRole(Je.EXT_PANE).setWidth(34).setHeight(94).setHtml("\n            <a class='"+Je.ZOOMIN+"' href='javascript:;' title='Zoom in'>+</a>\n            <span class='"+Je.ZOOMINFO+"' title='Current Scale'></span>\n            <a class='"+Je.ZOOMOUT+"' href='javascript:;' title='Zoom out'>-</a>").createElement(),l="10px";switch(n.position){case"leftTop":V(r,{top:l,left:l});break;case"leftBottom":V(r,{bottom:l,left:l});break;case"rightBottom":V(r,{bottom:l,right:l});break;default:V(r,{right:l,top:l})}t.appendChild(r)}return i.realDom}function ge(t){return t&&t._popo_inner}function me(t,n,i,o){t&&(i&&"all"!==i||(i=te(t)),h(i)&&(i=[i]),a(i)&&i.length>0&&i.forEach(function(i){var r=t.getChild(i);r&&(o&&(n=e(n,o)),n(ue(r)))}))}function _e(t,e){var n=t||[];if(h(n)&&(n=[n]),n.length>0){var i=!1;if(n.forEach(function(t){var n=C(e,t);n>=0&&(e.splice(n,1),i=!0)}),i)return e}return null}function ye(t,n,i,o,r){t&&n&&u(i)&&("all"===o&&(o=te(t)),h(o)&&(o=[o]),a(o)&&o.length>0&&o.forEach(function(o){if((o=ae(o,n.alias))>0){var l=t.getChild(o);if(l&&Ve(l.realDom)){var a=fe(l,o,n);if(r&&(i=e(i,r)),!1===i(a))return}}}))}function Ee(t,e,n){if(e>0&&t){var i=t.getChild(e);if(i)return i.oldSize={zIndex:i.styles.zIndex,width:i.width,height:i.height,top:i.top,left:i.left},i.setWidth(t.width).setHeight(t.height).setTop(0).setLeft(0).setStyle({zIndex:n}).update(),!0}return!1}function Ne(t,e){if(h(e)&&e>0){var n=t.getChild(e);if(n&&n.oldSize&&n.realDom)return n.setStyle({zIndex:n.oldSize.zIndex||1}),n.width=n.oldSize.width,n.height=n.oldSize.height,n.top=n.oldSize.top,n.left=n.oldSize.left,n.update(),n.oldSize=null,!0}return!1}function we(t,e){if(t&&e){var n="",i=null;if(s(e)&&(n=e),f(e)&&!d(e)&&(e.classname&&s(e.classname)&&(n=e.classname),f(e.css)&&!d(e.css)&&(i=N(e.css)),e.classname||e.css||(i=N(e))),n&&(Ve(t)?U(t,n):(t.removeClassName(n),t.realDom&&U(t.realDom,n))),i){for(var o in i)i[o]="";Ve(t)?V(t,i):(t.setStyle(i),t.realDom&&V(t.realDom,i))}!Ve(t)&&t.update&&t.update()}}function Ie(t,e,n,i){if(f(i)){var o=i.container,r=i.custom,l=i.default;o&&we(t,o),f(l)&&e.children.forEach(function(t){for(var e in l){var n=ue(t)[e];n&&we(n,l[e])}}),(a(r)?r:[r]).forEach(function(t){f(t)&&t.panels&&me(e,function(e){for(var n in t)t[n]&&e[n]&&we(e[n],t[n])},se(e,t.panels,n.alias))}),e.update()}}function be(t,e,n,i){if(t&&e){var o="",r=null;s(e)&&(o=e),f(e)&&!d(e)&&(e.classname&&s(e.classname)&&(o=e.classname),f(e.css)&&!d(e.css)&&(r=e.css),e.classname||e.css||(r=e)),o&&(Ve(t)?n&&(i?j(t,o):B(t,o)):(i?t.setClassName(o):t.addClassName(o),n&&t.realDom&&(i?j(t.realDom,o):B(t.realDom,o)))),r&&(Ve(t)?n&&V(t,r):(t.setStyle(r),n&&t.realDom&&V(t.realDom,r))),!Ve(t)&&t.update&&t.update()}}function Oe(t,e,n,i,o,r,l){if(e&&o){var s=r||{},h=s.custom,u=s.inner,d=s.zoomContainer,c=s.zoomPane,p=s.container,v=s.default;p&&l&&be(t,p,!0),u&&be(e,u),d&&be(n,d),c&&be(i,c),f(v)&&e.children.forEach(function(t){for(var e in v)be(ue(t)[e],v[e],!0)}),h&&(a(h)?h:[h]).forEach(function(t){f(t)&&t.panels&&me(e,function(e){for(var n in t)t[n]&&e[n]&&!e[n].isExtend&&be(e[n],t[n],!0,!0)},se(e,t.panels,o.alias))})}}function Te(t,e,n,i,o){return void 0!==t?null!==e?e*o:n:i}function De(t,e,n,i,o){if((void 0!==e.width||null!==e.width)&&!t.isExtend){var r=t._oldWidth,l=t._oldHeight,a=t._oldTop,s=t._oldLeft,h=t.width,u=t.height,f=t.top,d=t.left,c=t.percentWidth,p=t.percentHeight,v=t.percentLeft,g=t.percentTop;t.setHeight(Te(l,p,u,e.height,n.height)).setWidth(Te(r,c,h,e.width,n.width)).setTop(Te(a,g,f,e.top,n.height)).setLeft(Te(s,v,d,e.left,n.width))}e.oldSize&&(t.oldSize=e.oldSize,t.setStyle({zIndex:e.styles.zIndex||Je.PANEL_DEFAULT_ZINDEX})),i>0&&t.getId()===i&&t.setLeft(0).setTop(0).setStyle({zIndex:o})}function xe(t,e,n,i,o,r){De(t,e,n,o,r),t.children.forEach(function(i){e.children.forEach(function(e){i.getId()===e.getId()&&t.getRole()!==Je.PANEL&&De(i,e,n,o,r)})})}function Se(t,e,n){t&&e&&n&&(h(e)&&(e=[e]),a(e)&&e.forEach(function(e){var i=ce(t,e,"wrap"),o=null;i&&("auto"!==n&&"visible"!==n||(o={overflow:n}),"overflowX"!==n&&"overflowY"!==n||(o[n]="auto"),i.setStyle(o).update())}))}function Re(t,e){if(t&&e&&e.panelOverflow){var n=e.panelOverflow;if(n)for(var i in n)"all"===n[i]&&(n[i]=te(t)),(h(n[i])||a(n[i]))&&Se(t,n[i],i)}}function ze(t,e){var n=e.padding,i=n.left,o=n.right,r=n.bottom,l=n.top;return{width:t.width+i+o,height:t.height+l+r}}function Ce(t,e,n,i,o,r){if(t&&Ve(e)&&n&&i){var l=Jt(),a=[],s=[];Pt(i,l),At(l,e,n,i,a,s),ie(l,i,!1),o&&Ee(l,o,r||0),xe(t,l,ze(l,i),i,o,r),oe(t,i),t.update(),i.dev.enable&&qt(e,t,i),ke(t,i.lineHeight)}}function Le(t){if(t&&t.realDom){var e=t.realDom,n=lt(e,"height")||e.clientHeight,i=lt(e,"padding-top"),o=lt(e,"padding-bottom"),r=lt(e,"border-top-width"),l=lt(e,"border-bottom-width");t.setStyle({lineHeight:n-i-o-r-l+"px"}).update()}}function ke(t,e){if(t&&e){var n=f(e)?[e]:e;a(n)&&n.forEach(function(e){var n=e.panels,i=e.type||"head";h(n)&&(n=[n]),s(n)&&"all"===n&&(n=te(t)),a(n)&&me(t,function(t){(a(i)?i:[i]).forEach(function(e){s(e)&&t&&("all"===e?["head","center","right","foot","left"].forEach(function(e){Le(t[e])}):Le(t[e]))})},n)})}}function Pe(t,e,n){Ve(t)&&ot(t,Je.TARGET)===n&&e&&e.realDom&&e.realDom.appendChild(t)}function Ae(t,e,n){Ve(t)&&e&&Ve(e.realDom)&&n&&it(t,function(t){if(Ve(t)&&t.hasAttribute(Je.POPO)){var i=se(e,t.getAttribute(Je.POPO),n.alias),o=ce(e,i,"panel"),r=t.getAttribute("title"),l=t.getAttribute("class");if(o&&o.realDom){var a=ue(o);B(o.realDom,l),it(t,function(t){for(var e in a)"panel"!==e&&a[e]&&Pe(t,a[e],e)}),!nt(t,"["+Je.TARGET+"=head]")&&r&&a.head&&a.head.realDom&&!a.head.realDom.hasChildNodes()&&(a.head.realDom.innerHTML=r)}}})}function Me(t,e,n,i){t&&Ve(t.realDom)&&Ve(e)&&n&&i&&it(e,function(e){if(Ve(e)&&e.hasAttribute(Je.POPO)){var o=se(n,e.getAttribute(Je.POPO),i.alias);if(t.getId()===o){var r=ue(t);for(var l in r)if(r[l]&&r[l].realDom){var a=r[l].realDom.firstChild;Ve(a)&&l===a.getAttribute(Je.TARGET)&&e.appendChild(a)}return!1}}return!0})}function He(t,e,n){Ve(t)&&e&&Ve(e.realDom)&&n&&it(t,function(t){if(Ve(t)&&t.hasAttribute(Je.POPO)){var i=se(e,t.getAttribute(Je.POPO),n.alias),o=ce(e,i,"panel");if(o&&o.realDom){var r=ue(o);for(var l in r)if(r[l]&&r[l].realDom){var a=r[l].realDom.firstChild;Ve(a)&&l===a.getAttribute(Je.TPL)&&(a.removeAttribute(Je.TPL),B(a,l),t.appendChild(a))}}}})}function We(t,e,n){var i=t.zoom.enable?e.parentNode.parentNode:e.parentNode;return n&&Ve(i)&&(i.scrollLeft=0,i.scrollTop=0),i}function Ge(t,e,n,i,o,r){if(t&&e&&n&&!(!i<0)){var l=ce(t,ae(i,n.alias),"panel");if(l){var a=We(n,e,!0),s=n.zoom.enable?n.zoom.scale:1;a&&Ve(a)&&(a.scrollLeft=(l.left+o)*s,a.scrollTop=(l.top+r)*s)}}}function Ze(t,e,n){if(t&&e&&n){var i=at(e.parentNode.parentNode),o=e._origionWidth||t.width,r=e._origionHeight||t.height,l=(i.height-r*n)/2,a=(i.width-o*n)/2;(l<0||1===n)&&(l=0),(a<0||1===n)&&(a=0),V(e.parentNode,{paddingTop:l+"px",paddingLeft:a+"px"})}}function Fe(t,e){var n=e?"":"none";it(t,function(t){Ve(t)&&t.getAttribute(Je.POPO)&&V(t,{display:n})})}var Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ye=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},je=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),
Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Be=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Ue=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},Ke=0,Ve="object"===("undefined"==typeof HTMLElement?"undefined":Xe(HTMLElement))?y:E,qe=Object.freeze({stamp:t,bind:e,extend:n,legalNumber:i,trim:o,splitWords:r,isArray:a,isString:s,isNumber:h,isFunction:u,isObject:f,isEmptyObject:d,validateNumber:c,mixin:p,mixins:v,getObjectFromArray:g,removeObjectFromArray:m,get:_,isDOM:Ve,cloneJsonObject:N,merge:w,getPercentage:I,capitalize:b,reverseCamelcase:O,camelize:T,unique:D,firstUpperCase:x,isPercentage:S,translatePercentage:R,translateNumberToPercentage:z,contain:C,throttle:L,formatNum:k,formatNumber:P,getCssSize:A,multiplyBy:M,getPureValue:H,formatMargin:W,formatMargin2:Z}),$e="popo",Je={MIN_LY_COUNT:1,COLS:24,ROWS:12,PANEL_DEFAULT_ZINDEX:1,NAME:$e,POPO:"data-"+$e,ROLE:"data-popo-role",TARGET:"data-popo-target",COMPONENT_ID_KEY:"data-popo-id",EXT_PANE:$e+"-ext-pane",PANE:"pane",CONTAINER:"container",PANEL:"panel",PANEL_CONTAINER:"panel-container",WRAP:"wrap",GRID_L_C_R:"lcr",GRID_HEAD:"head",GRID_CENTER:"center",GRID_LEFT:"left",GRID_RIGHT:"right",GRID_FOOT:"foot",SINGLE_ROW:$e+"-s-row",ROW:$e+"-row",COL:$e+"-col",INFO:$e+"-dev-info",GUIDELINES:$e+"-guideline",PANEL_GUIDELINES:$e+"-panel-guideline",SPLITLINES:$e+"-splitline",ZOOMPANE:"zoom-pane",ZOOMCONTAINER:"zoom-container",ATTRIBUTTION:$e+"-attribution",ZOOMIN:$e+"-ct-zoom-in",ZOOMOUT:$e+"-ct-zoom-out",ZOOMINFO:$e+"-ct-zoom-info",TPL:"data-popo-tpl",DRAW_ID_KEY:$e+"-ts",LINE:"l",PATH:"p",CIRCLE:"c",FILTER:"f",MARKER:"m",LINER_GRADIENT:"lg",RADIAL_GRADIENT:"rg",BORDER:"b",EVENT:"_popo_event"},Qe=F(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),tn=F(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),en="webkitTransition"===tn||"OTransition"===tn?tn+"End":"transitionend";ht();var nn=Object.freeze({testProp:F,TRANSFORM:Qe,TRANSITION:tn,TRANSITION_END:en,getClass:X,hasClass:Y,setClass:j,addClass:B,removeClass:U,setStyle:K,css:V,create:q,html:$,isHidden:J,removeByClass:tt,removeByRole:et,query:nt,eachChild:it,attr:ot,getStyle:rt,getPureStyle:lt,getRect:at,getTargetDataId:st,createPublicStyle:ht}),on=navigator.userAgent.toLowerCase(),rn=document.documentElement,ln=window.innerWidth||rn.clientWidth||document.body.clientWidth,an=window.innerHeight||rn.clientHeight||document.body.clientHeight,sn="ActiveXObject"in window,hn=-1!==on.indexOf("webkit"),un="undefined"!=typeof orientation||-1!==on.indexOf("mobile"),fn={ie:sn,width:ln,height:an,aspectRatio:ln/an,webkit:hn,mobile:un},dn=Je.EVENT,cn=fn.win&&fn.chrome?2*window.devicePixelRatio:fn.gecko?window.devicePixelRatio:1,pn=Object.freeze({stopPropagation:dt,preventDefault:ct,stop:pt,on:vt,off:gt,getWheelDelta:mt}),vn={POPO_EXSIT:"The target container has been initialized by popo.",CONTAINER_ERR:"The target container was not found",LY_INVALID:"Layout array is invalid.",LY_FIXED_LESS:"Fixed height and fixed width shall not be less than 1 at the same time."},gn=function(){function e(n){Ye(this,e),this.nodeName=n||"div",this.width=0,this.height=0,this.classNames="",this.children=[],this.styles={},this.parentNode=null,this.html="",this.role="",this.isExtend=!1,t(this)}return je(e,[{key:"addClassName",value:function(t){var e=this;if(s(t)){if(""===this.classNames)return this.classNames=t,this;var n=r(this.classNames);r(t).forEach(function(t){C(n,t)<0&&(e.classNames+=" "+t)})}return this}},{key:"removeClassName",value:function(t){if(s(t)){var e=r(this.classNames),n=C(e,t);n>=0&&(e[n]="",this.classNames=e.join(" "))}return this}},{key:"clearClassName",value:function(){return this.classNames="",this}},{key:"setClassName",value:function(t){return t&&s(t)&&(this.classNames=t),this}},{key:"getChild",value:function(t){return h(t)||(t=Number(t)),!isNaN(t)&&t>0?g(this.children,Je.COMPONENT_ID_KEY,t):null}},{key:"setRole",value:function(t){return this.role=t,this}},{key:"getRole",value:function(){return this.role}},{key:"queryByRole",value:function(t){function e(i){return i&&i.children.length>0&&i.children.forEach(function(i){if(i.role===t)return void(n=i);e(i)}),n}var n=null;return e(this)}},{key:"setId",value:function(t){return this[Je.COMPONENT_ID_KEY]=t,this}},{key:"getId",value:function(){return this[Je.COMPONENT_ID_KEY]}},{key:"setWidth",value:function(t){return this.width=t,this}},{key:"setHeight",value:function(t){return this.height=t,this}},{key:"getWidth",value:function(){return this.width}},{key:"getHeight",value:function(){return this.height}},{key:"setMargin",value:function(t){return this.margin=t,this}},{key:"getMargin",value:function(){return this.margin}},{key:"_getSize",value:function(t){return h(t)?k(t,5)+"px":t}},{key:"setStyle",value:function(t){return p(this.styles,t),this}},{key:"setTop",value:function(t){return this.top=t,this}},{key:"getTop",value:function(){return this.top}},{key:"setLeft",value:function(t){return this.left=t,this}},{key:"getLeft",value:function(){return this.left}},{key:"insertTo",value:function(t){return t&&t.children&&(t.children.push(this),this.parentNode=t),this}},{key:"addNode",value:function(t){return t&&(this.children.push(t),t.parentNode=this),this}},{key:"removeNode",value:function(t){f(t)&&t&&t._popo_id&&this.children.length>0&&m(this.children,"_popo_id",t._popo_id)}},{key:"clear",value:function(){this.children&&this.children.length>0&&(this.children.forEach(function(t){t.remove()}),this.children=[])}},{key:"remove",value:function(){var t=this;this.parentNode&&this.parentNode.removeNode(t),Ve(this.realDom)&&(this.realDom.parentNode.removeChild(this.realDom),this.realDom=null),this.width=0,this.height=0,this.top=0,this.left=0,this.classNames="",this.styles={},this.children&&this.children.length>0&&(this.children.forEach(function(t){t.remove()}),this.children=[]),this.parentNode=null}},{key:"render",value:function(t){if(!t)return t;var e=ot(t,"class"),n=e?D(r(e).concat(r(this.classNames))).join(" "):this.classNames;n&&ot(t,"class",n);var i=this.width,o=this.height;return this.setStyle({width:i?this._getSize(i):"100%",height:o?this._getSize(o):"100%"}),void 0!==this.top&&this.setStyle({top:this._getSize(this.top)}),void 0!==this.left&&this.setStyle({left:this._getSize(this.left)}),void 0!==this.margin&&this.setStyle({margin:this._getSize(this.margin)}),d(this.styles)||V(t,this.styles),this[Je.COMPONENT_ID_KEY]&&ot(t,Je.COMPONENT_ID_KEY,this[Je.COMPONENT_ID_KEY]),this.role&&ot(t,"data-popo-role",this.role),this.id&&(t.id=this.id),this.html&&(t.innerHTML=this.html),t}},{key:"setHtml",value:function(t){return t&&s(t)&&(this.html=t),this}},{key:"update",value:function(){var t=this.realDom;t&&(this.render(t),this.children.forEach(function(t){t.update()}))}},{key:"createElement",value:function(){var t=this.realDom||document.createElement(this.nodeName);return t._popo_id=this._popo_id,this.render(t),this.children.forEach(function(e){t.appendChild(e.createElement())}),this.realDom=t,t.vnode=this,t}},{key:"getLastChild",value:function(){var t=this.children,e=t.length;return e>0?t[e-1]:t[0]}},{key:"getNewId",value:function(){var t=this.getLastChild();return t?t.getId()+1:1}}]),e}(),mn={container:"",rows:Je.ROWS,cols:Je.COLS,width:0,height:0,gutter:10,layout:null,layoutStartType:"row",fontScale:1,fullId:0,fullZIndex:0,scroll:{x:!1,y:!1},drag:!1,panel:{enable:!1,default:{headHeight:0,footHeight:0,leftWidth:0,rightWidth:0,gutter:0,zIndex:Je.PANEL_DEFAULT_ZINDEX},custom:[]},overflowVisible:!1,panelOverflow:{visible:"",overflowX:"",overflowY:""},dev:{enable:!1,panel:{show:!0,id:!0,size:!1,position:!1,background:"",fontSize:14,fontColor:"#333"},guideline:{show:!1,identifier:!0,lineSize:1,color:"rgba(0,0,0,.25)",zIndex:0,fontSize:14,fontColor:"#333"},panelGuideline:{show:!1,ids:"all",lineSize:.5,size:15,zIndex:0,color:"#888"},splitline:{show:!1,lineSize:1,width:100,height:100,color:"#000",zIndex:0,identifier:!0,fontColor:"#333333",fontSize:12},showIds:0},zoom:{enable:!1,control:!0,scale:1,ratio:.1,min:.1,max:1,position:"rightTop",wheelZoom:!0},focus:{id:0,offsetX:0,offsetY:0},lineHeight:null,hideIds:null,hideType:"panel",trackResize:!0,updateInterval:200,renderDelay:0,style:null,extends:[],onload:null,update:null,alias:null},_n=Je.NAME+"-",yn={container:_n+Je.WRAP,inner:_n+Je.CONTAINER,zoomContainer:_n+Je.ZOOMCONTAINER,zoomPane:_n+Je.ZOOMPANE,default:{panel:_n+Je.PANEL,panelContainer:_n+Je.PANEL_CONTAINER,head:_n+Je.GRID_HEAD,foot:_n+Je.GRID_FOOT,center:_n+Je.GRID_CENTER,right:_n+Je.GRID_RIGHT,left:_n+Je.GRID_LEFT,lcr:_n+Je.GRID_L_C_R},custom:null},En=["baseFrequency","stdDeviation","viewBox","numOctaves","tableValues","markerWidth","markerHeight","refX","refY","patternUnits","patternTransform"].join(" "),Nn=function(){function e(t,n){Ye(this,e),this.nodeName=t||"svg",this.attrs={},this.children=[],this.parentNode=null,this.realNode=null,this._stamp(),this.id=this._popo_id,this.styles={},this.style="",this.html="",n&&this.insertTo(n)}return je(e,[{key:"_stamp",value:function(){var e="";switch(this.nodeName){case"filter":e=Je.FILTER;break;case"linearGradient":e=Je.LINER_GRADIENT;break;case"radialGradient":e=Je.RADIAL_GRADIENT;break;case"marker":e=Je.MARKER}t(this,e)}},{key:"_setId",value:function(){return this.attr({id:this.getId()}),this}},{key:"getId",value:function(){return this.attr("id")||Je.DRAW_ID_KEY+"-"+this._popo_id}},{key:"setStyle",value:function(t){for(var e in t)this.styles[e]=t[e];return this}},{key:"attr",value:function(t,n){if(!t)return this;if(s(t))return void 0!==n&&null!==n?(En.indexOf(t)<0&&(t=O(t)),this.attrs[t]=n,this):this.attrs[t];if(f(t))for(var i in t)if(f(t[i])&&t[i]instanceof e){var o=i;En.indexOf(i)<0&&(o=O(i)),this.attrs[o]="url(#"+t[i].getId()+")"}else if(En.indexOf(i)<0){var r=O(i);this.attrs[r]="id"===r?Je.DRAW_ID_KEY+"-"+t[i]:t[i]}else this.attrs[i]=t[i];return this}},{key:"_filter",value:function(t,n){n=n||this;for(var i=0,o=t.length;i<o;i++){var r=t[i];for(var l in r){var s=new e(l,n),h={};if(a(r[l]))this._filter(r[l],s);else{for(var u in r[l])f(r[l][u])?new e(u,s).attr(r[l][u]):h[u]=r[l][u];s.attr(h)}}}return this}},{key:"_stops",value:function(t){for(var n=0;n<t.length;n++)new e("stop",this).attr({offset:I(t[n][0])+"%",stopColor:t[n][1]||"#333",stopOpacity:t[n][2]||1});return this}},{key:"insertTo",value:function(t){return t&&t.children&&(t.children.push(this),this.parentNode=t),this}},{key:"create",value:function(t,n){return new e(t,this).attr(n)}},{key:"add",value:function(t){return t&&(this.children.push(t),t.parentNode=this),this}},{key:"remove",value:function(t){return t&&t._popo_id&&this.children.length>0?m(this.children,"_popo_id",t._popo_id):this}},{key:"render",value:function(t){if(!d(this.styles)){var n="";for(var i in this.styles)f(this.styles[i])&&this.styles[i]instanceof e?n+=i+":url(#"+this.styles[i].getId()+");":n+=i+":"+this.styles[i]+";";n&&this.attr({style:n})}var o=this.attrs;for(var r in o)r.indexOf("xlink")>=0?t.setAttributeNS("http://www.w3.org/1999/xlink",r,o[r]):t.setAttribute(r,o[r]);"style"!==this.nodeName&&"text"!==this.nodeName||(t.innerHTML=this.html)}},{key:"setHtml",value:function(t){return t&&(this.html=t),this}},{key:"createElement",value:function(t){t&&this.attr({width:"0%",height:"0%"});var e=document.createElementNS("http://www.w3.org/2000/svg",this.nodeName);return this.render(e),this.children&&this.children.length>0&&this.children.forEach(function(t){"defs"===t.nodeName&&0===t.children.length||"style"===t.nodeName&&""===t.html||e.appendChild(t.createElement())}),this.realNode=e,t&&(e.style.width="0px",e.style.height="0px",e.style.zIndex=-9999,e.style.position="fixed",e.style.top="-100%",e.style.left="-100%"),e}}]),e}(),wn=function(t){function e(t,n,i){Ye(this,e);var o=Ue(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,i));return o.attr({width:"100%",height:"100%"}),o.globalStyle=new Nn("style",o),o.defs=new Nn("defs",o),o._setId(),o}return Be(e,t),je(e,[{key:"def",value:function(t){return this.defs._getDefById(t)||""}},{key:"_getDefById",value:function(t){for(var e=0,n=this.children.length;e<n;e++){var i=this.children[e].getId();if(i&&(i===t||i===Je.DRAW_ID_KEY+"-"+t))return"url(#"+i+")"}return""}},{key:"addGlobalStyle",value:function(t){return this.globalStyle.html+=t,this}},{key:"addRG",value:function(t,e,n,i){return i=i||[[0,"#333",1],[1,"#555",1]],new Nn("radialGradient",this.defs)._setId().attr({cx:t,cy:e,r:n})._stops(i)}},{key:"addLG",value:function(t,e,n,i,o){return t=I(t)+"%",e=I(e)+"%",n=I(n,1)+"%",i=I(i)+"%",o=o||[[0,"#333",1],[1,"#555",1]],new Nn("linearGradient",this.defs)._setId().attr({x1:t,x2:n,y1:e,y2:i})._stops(o)}},{key:"g",value:function(t){var e=new Nn("g",this)._setId();a(t)&&t.forEach(function(t){new Nn("path",e)})}},{key:"addFilter",value:function(t){return new Nn("filter",this.defs)._setId()._filter(t)}},{key:"addMarker",value:function(t,e){var n=new Nn("marker",this.defs)._setId().attr(t);return new Nn("circle",n).attr({cx:5,cy:5,r:4,fill:"none",stroke:e||"#ffffff",strokeWidth:1}),n}},{key:"addPattern",value:function(t){var e=new Nn("pattern",this.defs)._setId().attr(t),n=e.attrs,i=n.width,o=n.height;return new Nn("line",e).attr({x1:i/2,y1:0,x2:i/2,y2:o,strokeWidth:i/2,stroke:"rgba(0,0,0,.2)"}),e}},{key:"create",value:function(t,e){return new Nn(t,this).attr(e)}}]),e}(Nn),In={size:{width:0,height:0,responsive:!0},position:{left:0,top:0,responsive:!0},id:"",zIndex:Je.PANEL_DEFAULT_ZINDEX,layout:null},bn={_onDragStart:function(t){pt(t);var e=this._scrollPane;if(Ve(e)){var n=t.clientX,i=t.clientY,o=e.scrollLeft,r=e.scrollTop;this._startDrag={x:n,y:i,width:lt(e,"width"),height:lt(e,"height"),left:o,top:r},V(e,{cursor:"move"}),vt(e,"mousemove",this._onDragging,this),vt(e,"mouseup",this._onDragend,this)}},_onDragging:function(t){var e=this._scrollPane,n=this._startDrag;Ve(e)&&f(n)&&(e.scrollLeft=(n.left||0)-t.clientX+n.x,e.scrollTop=(n.top||0)-t.clientY+n.y)},_onDragend:function(t){gt(this._scrollPane,"mousemove",this._onDragging,this)},disableDrag:function(){var t=this._scrollPane;Ve(t)&&(gt(t,"mousedown",this._onDragStart,this),gt(t,"mousemove",this._onDragging,this),gt(t,"mouseup",this._onDragend,this),this._startDrag=null)},enableDrag:function(){var t=this.options;if(t.drag&&this._pane){var e=We(t,this._pane);Ve(e)&&(this._scrollPane=e,vt(e,"mousedown",this._onDragStart,this))}}},On={_resize:function(){var t=this,n=this.options,i=this._pane,o=this.vc,r=n.updateInterval;if(!this._onResize&&n.trackResize){var l=n.renderDelay>0?Math.max(r,n.renderDelay):r;this._onResize=L(function(r,l){n.trackResize&&(n.zoom.enable?Ze(o,i,t.scale):(t.update(),"function"==typeof n.update&&n.update(t),"function"==typeof r&&e(r,l)(t)))},l,this),vt(window,"resize",this._onResize,this)}},_removeResize:function(){this._onResize&&(gt(window,"resize",this._onResize,this),this._onResize=null)}},Tn={_performZoom:function(){var t=this.options.zoom.ratio;this.zoom(this.scale+(this._wheelScroll.delta>0?t:-t))},_onWheelScroll:function(t){var e=this;pt(t);var n=mt(t),i=this._wheelScroll.startTime;this._wheelScroll.delta=n,i||(this._wheelScroll.startTime=+new Date);var o=Math.max(Je.DEBOUNCE-(+new Date-i),0);clearTimeout(this._wheelScroll.timer),this._wheelScroll.timer=setTimeout(function(){e._performZoom()},o)},enableScrollWheel:function(){this.disableScrollWheel(),this._scrollPane||(this._scrollPane=We(this.options,this._pane)),this._wheelScroll={delta:0,startTime:0,timer:0},vt(this._scrollPane,"mousewheel",this._onWheelScroll,this)},disableScrollWheel:function(){this._scrollPane&&gt(this._scrollPane,"mousewheel",this._onWheelScroll,this)}},Dn=function(){function t(e){Ye(this,t);var n=this.options=w(mn,e),i=this.container=n.container?_(n.container):null;this._initOptions(),this._fullId=n.fullId,this._fullZIndex=n.fullZIndex||0,this._hideIds=n.hideIds||[],this._showIds=n.dev.showIds||[],this.style=w(yn,n.style||{}),this._sizes=wt(n.rows,n.cols),this._vc=Jt(),kt(n)&&(Pt(n,this._vc),Ve(i)&&this._initContainer())}return je(t,[{key:"_initOptions",value:function(){var t=this.options,e=i(t.fontScale,.1);t.padding=W(t.padding,e),f(t.panel.custom)&&(t.panel.custom=[t.panel.custom]),a(t.panel.custom)&&(t.panel.custom=t.panel.custom.map(function(t){return w({headHeight:0,footHeight:0,leftWidth:0,rightWidth:0,gutter:0,zIndex:Je.PANEL_DEFAULT_ZINDEX},t)}))}},{key:"_initContainer",value:function(){var t=this._vc,e=this.container,n=this.options,i=this._sizes;if(t&&e&&n&&i){ee(e),this._oldContainerStyle={display:rt(e,"display")},"static"===rt(e,"position")&&n.zoom.enable&&(this._oldContainerStyle.position="static",V(e,{position:"relative"})),Fe(e,!1);var o=this.style;o&&be(e,o.container,!0),ge(e)&&(n.updateInterval+=50);var r=this._zoomContainer=ve(e,n),l=n.scroll,a={},s=this._pane=$t(n);n.zoom.enable&&(n.drag=!0),n.zoom.enable||n.overflowVisible?a.overflow="visible":l.x&&l.y?a.overflow="auto":l.x&&!l.y?(a.overflowX="auto",a.overflowY="hidden"):!l.x&&l.y&&(a.overflowY="auto",a.overflowX="hidden"),V(r,a),V(r.parentNode,{overflow:n.overflowVisible?"visible":"hidden"}),r.appendChild(s),At(t,s,i,n,this._vpanels=[]),n.panel&&n.panel.enable&&Gt(t,n),ie(t,n,!0),Re(t,n),this._fullId&&Ee(t,this._getId(this._fullId),this._fullZIndex),V(e,{display:"none"}),Oe(e,t,r,r.parentNode,n,this.style),this._render()}}},{key:"_render",value:function(){var t=this,e=this._pane,n=this.options;if(e&&n){var i=n.renderDelay;i>0&&n.updateInterval>0&&(i=Math.max(i,n.updateInterval)),i>0?setTimeout(function(){t._onRender()},i||0):this._onRender()}}},{key:"_onRender",value:function(){var t=this._vc,e=this.container,n=this._pane,o=this.options;if(e&&t&&o){var r=this._showIds;if(r&&(this._hideIds=_e(r,this.getIds())||this._hideIds),pe(this._hideIds,t,o,r&&r.length>0),n.appendChild(Qt(t)),o.dev.enable&&qt(n,t,o),Ae(e,t,o),this._resize(),V(e,{display:this._oldContainerStyle.display}),this._updateSize(),o.zoom.enable){var l=i(o.zoom.scale,Je.MIN_ZOOM,Je.MAX_ZOOM);this._initZoomEvent(),this.zoom(l),o.zoom.wheelZoom&&this.enableScrollWheel()}if(o.drag&&this.enableDrag(),o.focus.id){var a=o.focus,s=a.id,h=a.offsetX,u=a.offsetY;this.focus(s,h,u)}ke(t,o.lineHeight),o.onload&&"function"==typeof o.onload&&o.onload(this)}}},{key:"_initZoomEvent",value:function(){var t=this,e=this.options,n=this.container,i=e.zoom;if(i.enable&&i.control){var o=nt(n,"."+Je.ZOOMIN),r=nt(n,"."+Je.ZOOMOUT),l=i.ratio;this._zoomInfoPane=nt(n,"."+Je.ZOOMINFO),Ve(o)&&Ve(r)&&(vt(o,"click",function(){t.zoom(t.scale+l)},this),vt(r,"click",function(){t.zoom(t.scale-l)},this))}}},{key:"_getId",value:function(t){return h(t)?t:se(this._vc,t,this.options.alias)}},{key:"_getNode",value:function(t,e){return ce(this._vc,this._getId(t),e||Je.PANEL)}},{key:"getOption",value:function(){return this.options}},{key:"getPanelCount",value:function(){return this.getIds().length}},{key:"getIds",value:function(){return te(this._vc)}},{key:"getAliasName",value:function(){var t=this.options.alias;return t&&a(t)?t.map(function(t){return t.name}):[]}},{key:"getAlias",value:function(t){var e=this.options.alias;if(void 0===t)return e;var n=(a(t)?t:[t]).map(function(t){return le(e,st(t))});return 1===n.length?n[0]:n}},{key:"getContainer",value:function(){return this.container}},{key:"zoom",value:function(t){var e=this._pane,n=this._vc,o=this.options,r=this._zoomContainer,l=this.$width(),a=this.$height(),s={};if(!(o.zoom.enable&&h(t)&&this.scale!==t&&n&&e&&o))return this;this.scale=t=i(t,o.zoom.min,o.zoom.max),Ve(this._zoomInfoPane)&&(this._zoomInfoPane.innerHTML=k(t,1)),s[Qe]="scale("+t+")",V(e,s);var u=at(r.parentNode),f=(u.height-a*t)/2,d=(u.width-l*t)/2;return(f<0||1===t)&&(f=0),(d<0||1===t)&&(d=0),V(r,{width:l*t+"px",height:a*t+"px",paddingTop:f+"px",paddingLeft:d+"px"}),this}},{key:"focus",value:function(t,e,n){return Ge(this._vc,this._pane,this.options,t,e||0,n||0),this}},{key:"get",value:function(t){var e=this;if(!t)return null;var n=(a(t)?t:[t]).map(function(t){return de(e._vc,st(t),e.options)});return 1===n.length?n[0]:n}},{key:"getAll",value:function(){return this.get(this.getIds())}},{key:"_getXComponent",value:function(t,e){var n=this.get(t);return a(n)?n.map(function(t){return t&&t[e]}):n&&n[e]}},{key:"panel",value:function(t){return this._getXComponent(t,"panel")}},{key:"wrap",value:function(t){return this._getXComponent(t,"wrap")}},{key:"center",value:function(t){return this._getXComponent(t,"center")}},{key:"head",value:function(t){return this._getXComponent(t,"head")}},{key:"left",value:function(t){return this._getXComponent(t,"left")}},{key:"right",value:function(t){return this._getXComponent(t,"right")}},{key:"foot",value:function(t){return this._getXComponent(t,"foot")}},{key:"clearPanel",value:function(t,e){var n=this;return t&&(a(t)?t:[t]).forEach(function(t){var i=n._getNode(st(t));i&&(e||Me(i,n.container,n._vc,n.options),i.clear(),i.update())}),this}},{key:"clearAllPanel",value:function(t){return this.clearPanel(this._vpanels,t)}},{key:"_setPanel",value:function(t){var e=this,n=t.panels,i=t.headHeight,o=void 0===i?0:i,r=t.footHeight,l=void 0===r?0:r,s=t.leftWidth,h=void 0===s?0:s,u=t.rightWidth,d=void 0===u?0:u,c=t.gutter,p=void 0===c?0:c,v=this.options.panel;if(n&&(a(n)||(n=[n]),v.custom||(v.custom=[]),f(v.custom)&&(v.custom=[v.custom]),a(v.custom))){this.clearPanel(n);var g=n.map(function(t){return e._getNode(st(t))});v.custom.forEach(function(t,i){if(t.panels===n)return void v.custom.splice(i,1);a(t.panels)||(t.panels=[t.panels]);var o=!1;t.panels.forEach(function(i,r){var l=e._getId(i);n.forEach(function(e){if(l===e)return t.panels.splice(r,1),void(o=!0)})})}),v.custom=v.custom.filter(function(t){return t.panels.length>0});var m={panels:n,headHeight:o,footHeight:l,leftWidth:h,rightWidth:d,gutter:p};v.custom.push(m),g.forEach(function(t){Wt(t,m,e.options.fontScale),t.createElement()})}}},{key:"setPanelLayout",value:function(t){var e=this;return t&&((a(t)?t:[t]).forEach(function(t){return e._setPanel(t)}),this.update()),this}},{key:"_updatePanel",value:function(t){var e=this,n=t.panels,i=t.left,o=t.top,r=t.width,l=t.height,s=t.zIndex;return(a(n)?n:[n]).forEach(function(t){var n=e._getNode(st(t));if(n){if(i){var a=n.percentLeft=S(i)?R(i):null;null!==a&&(i=a),h(i)&&(void 0===n._oldLeft&&(n._oldLeft=n.getLeft()),n.setLeft(null!==a?i*e.width:i))}if(o){var u=n.percentTop=S(o)?R(o):null;null!==u&&(o=u),h(o)&&(void 0===n._oldTop&&(n._oldTop=n.getTop()),n.setTop(null!==u?o*e.height:o))}if(h(s)&&(void 0===n._oldZIndex&&(n._oldZIndex=n.styles.zIndex),n.setStyle({zIndex:s})),void 0!==r&&null!==r){r=r||n.width;var f=n.percentWidth=S(r)?R(r):null;null!==f&&(r=f),h(r)&&(void 0===n._oldWidth&&(n._oldWidth=n.getWidth()),n.setWidth(null!==f?r*e.width:r))}if(void 0!==l&&null!==l){l=l||n.height;var d=n.percentHeight=S(l)?R(l):null;null!==d&&(l=d),h(l)&&(void 0===n._oldHeight&&(n._oldHeight=n.getHeight()),n.setHeight(null!==d?l*e.height:l))}(void 0!==n._oldWidth||void 0!==n._oldHeight||n._classChange||n._styleChange)&&ke(e._vc,e.options.lineHeight),n.update()}}),this}},{key:"_restorePanel",value:function(t){var e=this,n=t.panels,i=t.size,o=void 0===i||i,r=t.position,l=void 0===r||r,s=t.zIndex,h=void 0===s||s;(a(n)?n:[n]).forEach(function(t){var n=e._getNode(st(t));n&&(l&&(void 0!==n._oldLeft&&n.setLeft(n._oldLeft),void 0!==n._oldTop&&n.setTop(n._oldTop)),o&&(void 0!==n._oldWidth&&n.setWidth(n._oldWidth),void 0!==n._oldHeight&&n.setHeight(n._oldHeight)),h&&void 0!==n._oldZIndex&&n.setStyle({zIndex:n._oldZIndex}),n.update())})}},{key:"restore",value:function(t){var e=this;return void 0===t?this._restorePanel({panels:this.getIds(),size:!0,position:!0,zIndex:!0}):(a(t)?t:[t]).forEach(function(t){t.panels&&e._restorePanel(t)}),this}},{key:"$top",value:function(t){var e=this._getNode(st(t));return e?e.getTop():0}},{key:"$left",value:function(t){var e=this._getNode(st(t));return e?e.getLeft():0}},{key:"$width",value:function(t,e){if(0===arguments.length)return this.width;var n=t;if(!Ve(t)){var i=this._getNode(st(t),e);n=i&&i.realDom}return Ve(n)?lt(n,"width"):-1}},{key:"$height",value:function(t,e){if(0===arguments.length)return this.height;var n=t;if(!Ve(t)){var i=this._getNode(st(t),e);n=i&&i.realDom}return Ve(n)?lt(n,"height"):-1}},{key:"show",value:function(t){var e=this,n=this.container;return!t&&n&&J(n)?V(n,{display:"block"}):(a(t)?t:[t]).forEach(function(t){var n=e._getId(st(t)),i=e.panel(n);if(Ve(i)&&J(i)){var o=C(e._hideIds,n);o>=0&&e._hideIds.splice(o,1),V(i,{display:"block"})}}),this}},{key:"hide",value:function(t){var e=this,n=this.container;if(t||!n||J(n)){var i=[];(a(t)?t:[t]).forEach(function(t){var n=e._getId(st(t));i.push(n),C(e._hideIds,n)<0&&e._hideIds.push(n)}),pe(i,this._vc,this.options)}else V(n,{display:"none"});return this}},{key:"each",value:function(t,e,n){var i=e?(a(e),e).map(function(t){return st(t)}):this.getIds();return ye(this._vc,this.options,t,i,n),this}},{key:"remove",value:function(t,e){var n=this;return 0===arguments.length?this._remove():(a(t)?t:[t]).forEach(function(t){var i=n._getNode(st(t));i&&i.remove&&(e||Me(i,n.container,n._vc,n.options),i.remove())}),this}},{key:"addPanel",value:function(t){var e=this.options,n=ne(this._vc,e.padding,t,e.fontScale,!0);return this._vc.realDom&&n&&this._vc.realDom.appendChild(n.createElement()),this.get(n.getId())}},{key:"_remove",value:function(){var t=this._pane,e=this._oldContainerStyle,n=this.container;He(n,this._vc,this.options),this.removeStyle(),this.disableDrag(),this._removeResize(),this._sizes=null,this._fullId=0,this._fullZIndex=0,this._showIds=null,this._hideIds=null,this.style=null,this._vc.remove(),Ve(t)&&t.parentNode&&t.parentNode.removeChild(t),et(Je.ZOOMPANE,n),et(Je.EXT_PANE,n),this._pane=null,this._vc=null,this._vpanels=null,this._scrollPane=null,this.options=null,e&&e.position&&V(n,{position:e.position}),this.container=null,this._oldContainerStyle=null,this._oldBodyScroll=null,this._popo_id=0,this._zoomContainer=null,this._zoomInfoPane=null,this.width=0,this.height=0}},{key:"full",value:function(t,e){if(t){var n=this._getId(st(t));h(n)&&n>0&&(this._fullId>0&&this.unFull(),this._fullId=n,this._fullZIndex=e||0,this.update())}return this}},{key:"unFull",value:function(){return this._fullId>0&&Ne(this._vc,this._getId(this._fullId))&&(this._fullId=0,this._fullZIndex=0,this.update()),this}},{key:"_updateSize",value:function(){var t=ze(this._vc,this.options);t&&(this.width=t.width,this.height=t.height)}},{key:"update",value:function(t){var e=this;return void 0===t?(Ce(this._vc,this._pane,this._sizes,this.options,this._getId(this._fullId),this._fullZIndex||0),this._updateSize()):((a(t)?t:[t]).forEach(function(t){f(t)&&e._updatePanel(t)}),this.update()),this}},{key:"setBodyScroll",value:function(){var t=document.body,e=this._zoomContainer;return e&&e.parentNode&&(this._oldBodyScroll={body:t.style.overflow,zc:e.style.overflow,zcParent:e.parentNode.style.overflow},V(document.body,{overflowY:"auto"}),V(this._zoomContainer.parentNode,{overflow:"visible"}),V(this._zoomContainer,{overflow:""})),this}},{key:"resetBodyScroll",value:function(){var t=this._oldBodyScroll;if(t){var e=document.body,n=this._zoomContainer;this._oldBodyScroll={body:e.style.overflow,zc:n.style.overflow,zcParent:n.parentNode.style.overflow},V(document.body,{overflow:t.body}),V(this._zoomContainer.parentNode,{overflow:t.zc}),V(this._zoomContainer,{overflow:t.zcParent}),this._oldBodyScroll=null}return this}},{key:"_setStyle",value:function(t,e){if(f(t)){var n=this._vc,i=this.options,o=this.container,r=this._zoomContainer;d(this.style)||Ie(o,n,i,this.style),this.style=e?w(this.style,t):t,Oe(o,n,r,r.parentNode,i,this.style,!0)}return this}},{key:"setStyle",value:function(t){return this._setStyle(t,!1)}},{key:"updateStyle",value:function(t){return this._setStyle(t,!0)}},{key:"removeStyle",value:function(){var t=this.style,e=this._vc,n=this.options,i=this.container;return t&&(Ie(i,e,n,t),this.style=null),this}},{key:"addTo",value:function(t,e){var n=this;if(this.container)throw new Error(vn.POPO_EXSIT);var i=_(t);return i&&Ve(i)&&(this.container=i,e>0?setTimeout(function(){n._initContainer()},e):this._initContainer()),this}}]),t}();v(Dn.prototype,[bn,On,Tn]);var xn={version:"1.0.0",instances:[],init:function(t){var e=t.container,n=null;if(e){var i=_(e);if(!Ve(i))throw new Error(vn.CONTAINER_ERR);if(g(xn.instances,"container",i))throw new Error(vn.POPO_EXSIT)}return n=new Dn(t),xn.instances.push(n),n},extend:function(t){if(f(t)){var e=Object.keys(xn);for(var n in t)!function(n){C(e,n)<0&&(u(t[n])?xn[n]=function(){for(var e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];var r=t[n].apply(null,i);return void 0!==r?r:xn}:xn[n]=t[n])}(n)}},getInstanceByDom:function(t){var e=_(t);return Ve(e)?g(xn.instances,"container",e):null},dispose:function(t){if(t){if(t instanceof Dn){var e=C(xn.instances,t);e>=0&&(xn.instances.splice(e,1),t.remove())}if(t&&(s(t)||Ve(t))){var n=_(t);if(Ve(n)){var i=m(xn.instances,"container",n);i&&i[0].remove()}}}},DomUtil:nn,DomEvent:pn,Browser:fn,Util:qe},Sn=e,Rn=w,zn=n,Cn=B,Ln=Y,kn=U,Pn=V,An=ot,Mn=J,Hn=q,Wn=$;if(xn.extend({addClass:Cn,hasClass:Ln,removeClass:kn,css:Pn,attr:An,isHidden:Mn,create:Hn,html:Wn,bind:Sn,merge:Rn,extend:zn,validateLayoutExp:Nt}),"undefined"!=typeof window){var Gn=window.P;xn.noConflict=function(){return window.P=Gn,this},window.P=xn}return xn});
//# sourceMappingURL=popo.min.js.map
