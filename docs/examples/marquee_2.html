<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Marquee: Jon && Emilia</title>
    <script src="./libs/popo.min.js"></script>
    <style>
        html,
        body,
        #container {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }

        #container {
            background-color: #222;
        }

        .popo-panel {
            background: #464A50;
            border-radius: 5px;
        }

        .popo-jn {
            background: url('./images/jonsnow.jpg') center top repeat-y!important;
            background-size: 100% auto!important;
            text-align: center;
            font-size: 32px;
            color: white;
            cursor: pointer;
        }

        .jon {
            height: 100%;
        }

        .popo-jn:hover {
            color: #F5BC9B;
        }

        .popo-mm {
            background: url('./images/dm.jpg') center center repeat-x!important;
            background-size: auto 100%!important;
            border-radius: 5px;
        }
    </style>
</head>

<body>
    <div id='container'>
        <div data-popo="17">
            <div class="jon" data-popo-target="center">Click me to activate or stop Emilia.</div>
        </div>
    </div>
    <script type="text/javascript">
        var po = P.init({
            container: 'container',
            layout: [[2, [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2]], [8, [[2, [3, 3, 3, 3]], 20, [2, [3, 3, 3, 3]]]], [2, [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2]]],
            dev: {
                enable: true,
            },
            panel: {
                enable: true,
            },
            lineHeight: {
                panels: 17,
                type: 'center'
            },
            onload: function (popo) {
                var order = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 18, 19, 20, 21, 33, 32, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 16, 15, 14, 13],
                    index = 0,
                    ing = false,
                    timer = 0;

                function updateTheme() {
                    if (index == order.length) {
                        index = 0;
                    }
                    popo.setStyle({
                        custom: [{
                            panels: [17],
                            panel: 'popo-jn'
                        }, {
                            panels: order[index],
                            panel: 'popo-mm'
                        }]
                    });
                    index++;
                }

                updateTheme();

                P.DomEvent.on(popo.panel(17), 'click', function () {
                    if (!ing) {
                        ing = true;
                        timer = setInterval(updateTheme, 300);
                    } else {
                        clearInterval(timer);
                        ing = false;
                    }
                })

            }
        });
    </script>
</body>

</html>